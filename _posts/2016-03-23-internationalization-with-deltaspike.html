---
layout: post
title: " Internationalization with DeltaSpike"
date: '2016-03-23T09:35:00.003-07:00'
author: Surendran's blog
tags:
- Java
- JEE
- DeltaSpike
- i18n
modified_time: '2016-03-23T09:36:13.672-07:00'
blogger_id: tag:blogger.com,1999:blog-1982846252446038176.post-2590761040278345959
blogger_orig_url: https://surendran-spaces.blogspot.com/2016/03/internationalization-with-deltaspike.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="MsoNormal"><br /></div><div class="MsoNormal">Recently came across this powerful internationalization option provide by deltaspike CDI in JEE.</div><div class="MsoNormal"><o:p></o:p></div><div class="MsoNormal">To do this all we have to do is to create an interface with methods annotated with message keys as follows.<o:p></o:p></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: 0.1em 0.1em 0.1em 0.8em; border: solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">org.apache.deltaspike.core.api.message.MessageBundle</span><span style="color: #333333;">;</span><br /><span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">org.apache.deltaspike.core.api.message.MessageTemplate</span><span style="color: #333333;">;</span><br /><br /><span style="color: #555555; font-weight: bold;">@MessageBundle</span><br /><span style="color: #008800; font-weight: bold;">public</span> <span style="color: #008800; font-weight: bold;">interface</span> <span style="color: #bb0066; font-weight: bold;">ApplicationMessage</span> <span style="color: #333333;">{</span><br />    <br />    <span style="color: #555555; font-weight: bold;">@MessageTemplate</span><span style="color: #333333;">(</span><span style="background-color: #fff0f0;">"{hello.world}"</span><span style="color: #333333;">)</span><br />    String <span style="color: #0066bb; font-weight: bold;">helloWorld</span><span style="color: #333333;">(</span>String name<span style="color: #333333;">);</span><br /><br />    <span style="color: #555555; font-weight: bold;">@MessageTemplate</span><span style="color: #333333;">(</span><span style="background-color: #fff0f0;">"{custom.message}"</span><span style="color: #333333;">)</span><br />    String <span style="color: #0066bb; font-weight: bold;">customMessage</span><span style="color: #333333;">(</span>String first<span style="color: #333333;">,</span> String seond<span style="color: #333333;">);</span><br /><br /><span style="color: #333333;">}</span><br /> <br /></pre></div><br /></div><div class="MsoNormal">and introduce <span style="font-family: &quot;consolas&quot;; font-size: 10.5pt; line-height: 107%;">ApplicationMessage.properties </span>file inside resources folder under same package name. Rest is taken care by deltaspike<o:p></o:p></div><div class="MsoNormal">My <span style="font-family: &quot;consolas&quot;; font-size: 10.5pt; line-height: 107%;">ApplicationMessage.properties </span>looks like below<span style="font-family: &quot;consolas&quot;; font-size: 10.5pt; line-height: 107%;"><o:p></o:p></span></div><div class="MsoNormal"><br /></div><pre style="background: white;"><b><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10.5pt;">hello.world</span></b><span style="font-family: &quot;consolas&quot;; font-size: 10.5pt;">=</span><b><span style="color: green; font-family: &quot;consolas&quot;; font-size: 10.5pt;">Hello World %s<br /></span></b><b><span style="color: navy; font-family: &quot;consolas&quot;; font-size: 10.5pt;">custom.message </span></b><span style="font-family: &quot;consolas&quot;; font-size: 10.5pt;">= </span><b><span style="color: green; font-family: &quot;consolas&quot;; font-size: 10.5pt;">Hello %s welcome %s</span></b><span style="font-family: &quot;consolas&quot;; font-size: 10.5pt;"><o:p></o:p></span></pre><div class="MsoNormal"><br /></div><div class="MsoNormal">And my test code to test the above configuration is <o:p></o:p></div><pre style="background: white;"><span style="font-family: &quot;consolas&quot;; font-size: 10.5pt;"><br /><br /><!-- HTML generated using hilite.me --><div style="background: #ffffff; border-width: 0.1em 0.1em 0.1em 0.8em; border: solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><br /><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@Singleton</span><br /><span style="color: #555555; font-weight: bold;">@Startup</span><br /><span style="color: #008800; font-weight: bold;">public</span> <span style="color: #008800; font-weight: bold;">class</span> <span style="color: #bb0066; font-weight: bold;">Application</span> <span style="color: #333333;">{</span><br /><br />    <span style="color: #555555; font-weight: bold;">@Inject</span><br />    ApplicationMessage message<span style="color: #333333;">;</span><br /><br />    <span style="color: #555555; font-weight: bold;">@Schedule</span><span style="color: #333333;">(</span>minute <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"*"</span><span style="color: #333333;">,</span> second <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"*/10"</span><span style="color: #333333;">,</span><br />            hour <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"*"</span><span style="color: #333333;">,</span> persistent <span style="color: #333333;">=</span> <span style="color: #008800; font-weight: bold;">false</span><span style="color: #333333;">)</span><br />    <span style="color: #008800; font-weight: bold;">public</span> <span style="color: #333399; font-weight: bold;">void</span> <span style="color: #0066bb; font-weight: bold;">scheduledMethod</span><span style="color: #333333;">(){</span><br />        System<span style="color: #333333;">.</span><span style="color: #0000cc;">out</span><span style="color: #333333;">.</span><span style="color: #0000cc;">println</span><span style="color: #333333;">(</span><span style="background-color: #fff0f0;">" &gt;&gt; "</span> <span style="color: #333333;">+</span> message<span style="color: #333333;">.</span><span style="color: #0000cc;">helloWorld</span><span style="color: #333333;">(</span><span style="background-color: #fff0f0;">"!!!!"</span><span style="color: #333333;">));</span><br />        System<span style="color: #333333;">.</span><span style="color: #0000cc;">out</span><span style="color: #333333;">.</span><span style="color: #0000cc;">println</span><span style="color: #333333;">(</span><span style="background-color: #fff0f0;">" &gt;&gt; "</span> <span style="color: #333333;">+</span> message<span style="color: #333333;">.</span><span style="color: #0000cc;">customMessage</span><span style="color: #333333;">(</span><span style="background-color: #fff0f0;">"World"</span><span style="color: #333333;">,</span> <span style="background-color: #fff0f0;">"Message"</span><span style="color: #333333;">));</span><br /><br />    <span style="color: #333333;">}</span><br /><span style="color: #333333;">}</span><br /></pre></div><span style="background-color: transparent;"><pre style="background: white;"><span style="font-family: &quot;consolas&quot;; font-size: 10.5pt;"><span style="background-color: transparent;"><br /></span></span></pre>Thatâ€™s it !!</span></span></pre><div class="MsoNormal"><o:p></o:p></div><div class="MsoNormal">Deltaspike also provides powerful locale resolver which can be annotated in ApplicationMessage.java as follows <o:p></o:p></div><pre style="background: white;"><span style="color: olive; font-family: &quot;consolas&quot;; font-size: 10.5pt;"><br /><br /><!-- HTML generated using hilite.me --><div style="background: #ffffff; border-width: 0.1em 0.1em 0.1em 0.8em; border: solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><br /><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@MessageBundle</span><br /><span style="color: #555555; font-weight: bold;">@MessageContextConfig</span><span style="color: #333333;">(</span>localeResolver <span style="color: #333333;">=</span> MyLocaleResolver<span style="color: #333333;">.</span><span style="color: #0000cc;">class</span><span style="color: #333333;">)</span><br /><span style="color: #008800; font-weight: bold;">public</span> <span style="color: #008800; font-weight: bold;">interface</span> <span style="color: #bb0066; font-weight: bold;">ApplicationMessage</span> <span style="color: #333333;">{</span><br />       <span style="color: #888888;">// ...</span><br /><span style="color: #333333;">}</span><br /></pre></div></span></pre><pre style="background: white;"></pre></div>