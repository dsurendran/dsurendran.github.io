---
layout: post
title: Testing REST API with Python request
date: '2016-07-02T10:58:00.001-07:00'
author: Surendran's blog
tags:
- REST
- python
modified_time: '2016-07-02T11:11:23.784-07:00'
blogger_id: tag:blogger.com,1999:blog-1982846252446038176.post-856598189117353987
blogger_orig_url: https://surendran-spaces.blogspot.com/2016/07/testing-rest-api-with-python-request.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><div>Following is simple python script to test REST API's. (this is written as a work around to 'curl' and to <i>test availability of multiple services at once</i>).</div><div><br /></div><div>Python&nbsp;<span style="color: #0e84b5; font-weight: bold; line-height: 16.25px;">requests</span>&nbsp;package provides easy way to do the same.<br /><br /></div><div><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: 0.1em 0.1em 0.1em 0.8em; border: solid gray; overflow: auto; padding: 0.2em 0.6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">sys</span><br /><span style="color: #008800; font-weight: bold;">import</span> <span style="color: #0e84b5; font-weight: bold;">requests</span> <br /><br />username <span style="color: #333333;">=</span> sys<span style="color: #333333;">.</span>argv[<span style="color: #0000dd; font-weight: bold;">1</span>]<br />password <span style="color: #333333;">=</span> sys<span style="color: #333333;">.</span>argv[<span style="color: #0000dd; font-weight: bold;">2</span>]<br /><br />auth_server_url <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"http://your_authserver"</span><br />service_url <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"http://your_serviceurl"</span><br /><br />data <span style="color: #333333;">=</span> <span style="color: #007020;">dict</span>()<br />data[<span style="background-color: #fff0f0;">'username'</span>] <span style="color: #333333;">=</span> username<br />data[<span style="background-color: #fff0f0;">'password'</span>] <span style="color: #333333;">=</span> password<br />response <span style="color: #333333;">=</span> requests<span style="color: #333333;">.</span>post(auth_server_url, <b>data</b><span style="color: #333333;">=</span>data)<br />json_response <span style="color: #333333;">=</span> response<span style="color: #333333;">.</span>json()<br /><span style="color: #008800; font-weight: bold;">print</span> <span style="background-color: #fff0f0;">"Response:"</span><br /><span style="color: #008800; font-weight: bold;">print</span> json_response<br /><br />auth_token <span style="color: #333333;">=</span> json_response[<span style="background-color: #fff0f0;">'AUTH_TOKEN_KEY'</span>]<br />data <span style="color: #333333;">=</span> <span style="color: #007020;">dict</span>()<br />header[<span style="background-color: #fff0f0;">'Authorization'</span>] <span style="color: #333333;">=</span> auth_token<br />response <span style="color: #333333;">=</span> requests<span style="color: #333333;">.</span>get(service_url, <b>header</b><span style="color: #333333;">=</span>header) <br />json_response <span style="color: #333333;">=</span> response<span style="color: #333333;">.</span>json()<br /><span style="color: #008800; font-weight: bold;">print</span> <span style="background-color: #fff0f0;">"Response:"</span><br /><span style="color: #008800; font-weight: bold;">print</span> json_response<br /></pre></div><br /></div><div><br /></div></div>